<div class="app">
  <div class="container">

    <header class="page-header">
      <div class="logo-leaf" aria-hidden="true">üçÉ</div>
      <div>
        <h1>Gesti√≥n de Usuarios</h1>
        <p class="subtitle">CRUD con Angular + MongoDB</p>
      </div>
    </header>

    <!-- Lista -->
    <section class="card">
      <h2>Lista de Usuarios</h2>

      <ul class="user-list">
        <li class="user-item" *ngFor="let u of usuarios">
          <span class="user-info">
            <strong>{{ u.nombre }}</strong>
            <span class="muted">‚Äî {{ u.email }}</span>
            <span class="badge">{{ u.edad }} a√±os</span>
          </span>

          <div class="btn-row">
            <button class="btn btn-outline" (click)="editarUsuario(u)">Editar</button>
            <button class="btn btn-danger" (click)="eliminarUsuario(u._id!)">Eliminar</button>
          </div>
        </li>
      </ul>

      <p class="empty" *ngIf="usuarios?.length === 0">No hay usuarios a√∫n.</p>
    </section>

    <!-- Formulario -->
    <section class="card">
      <h2>{{ editMode ? 'Editar Usuario' : 'Agregar Usuario' }}</h2>

      <form class="form-grid" (ngSubmit)="onSubmit()">
        <label class="field">
          <span>Nombre</span>
          <input type="text" [(ngModel)]="form.nombre" name="nombre" placeholder="Ej. Ana P√©rez" required>
        </label>

        <label class="field">
          <span>Email</span>
          <input type="email" [(ngModel)]="form.email" name="email" placeholder="ana@mail.com" required>
        </label>

        <label class="field">
          <span>Edad</span>
          <input type="number" [(ngModel)]="form.edad" name="edad" min="0" placeholder="30" required>
        </label>

        <div class="actions" style="gap:10px">
          <button type="submit" class="btn btn-primary">
            {{ editMode ? 'Actualizar' : 'Agregar' }}
          </button>
          <button *ngIf="editMode" type="button" class="btn btn-outline" (click)="cancelarEdicion()">
            Cancelar
          </button>
        </div>
      </form>
    </section>

  </div>
</div>
